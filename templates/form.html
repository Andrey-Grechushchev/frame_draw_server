



<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–§–æ—Ä–º–∞ –≤–≤–æ–¥–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; background: #f5f5f5; padding: 20px; }
    form { background: #fff; padding: 20px; border-radius: 8px; max-width: 1000px; margin: auto; }
    fieldset { margin-bottom: 20px; border: 1px solid #ccc; border-radius: 8px; padding: 15px; }
    legend { font-weight: bold; }
    label { display: block; margin: 10px 0 5px; }
    input, select { width: 100%; padding: 5px; box-sizing: border-box; }

    /* –°—Ç—Ä–æ–∫–∏ —Å –≥–∞–ª–æ—á–∫–∞–º–∏: 2 –∫–æ–ª–æ–Ω–∫–∏ ‚Äî —Å–ª–µ–≤–∞ —á–µ–∫–±–æ–∫—Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã, —Å–ø—Ä–∞–≤–∞ —Ç–µ–∫—Å—Ç */
    .checkbox-label,
    .inline-group {
      display: grid;
      grid-template-columns: 20px 1fr; /* 20px –ø–æ–¥ —á–µ–∫–±–æ–∫—Å, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ–¥ —Ç–µ–∫—Å—Ç */
      column-gap: 6px;
      align-items: flex-start;
      margin: 6px 0;
    }

    /* –°–∞–º–∞ –≥–∞–ª–æ—á–∫–∞ –≤—Å–µ–≥–¥–∞ –≤ –ª–µ–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ, –ø—Ä–∏–∂–∞—Ç–∞ –∫ –Ω–∞—á–∞–ª—É */
    .checkbox-label input[type="checkbox"],
    .inline-group input[type="checkbox"] {
      justify-self: start;
      margin: 2px 0 0 0;  /* —á—É—Ç—å –æ–ø—É—Å—Ç–∏—Ç—å, —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä —Å–æ–≤–ø–∞–¥–∞–ª —Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π —Ç–µ–∫—Å—Ç–∞ */
    }

    /* –£ —Ç–µ–∫—Å—Ç–∞ —Ä—è–¥–æ–º —Å –≥–∞–ª–æ—á–∫–æ–π —É–±–∏—Ä–∞–µ–º –≤–Ω–µ—à–Ω–∏–π margin,
      —á—Ç–æ–±—ã –æ–Ω –Ω–µ —Ä–∞–∑–¥—É–≤–∞–ª –≤—ã—Å–æ—Ç—É —Å—Ç—Ä–æ–∫–∏ */
    .checkbox-label label,
    .inline-group label {
      margin: 0;
    }

    button { padding: 10px 20px; font-size: 16px; }
    
    .field-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 20px; /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø—ã */
      align-items: flex-start;
    }

    .field {
      width: 100%;
    }

    /* –ü–æ–ª–µ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É (–¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤ –∏ —Ç.–ø.) */
    .field.full-width {
      grid-column: 1 / -1;
    }

    /* –ß—É—Ç—å —É–º–µ–Ω—å—à–∏–º –≤–Ω–µ—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã —É label –≤–Ω—É—Ç—Ä–∏ .field,
      —á—Ç–æ–±—ã —Å–µ—Ç–∫–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ –ø–æ–ø–ª–æ—Ç–Ω–µ–µ */
    .field label {
      margin: 0 0 5px;
    }

    /* –ß—Ç–æ–±—ã —á–µ–∫–±–æ–∫—Å-–≥—Ä—É–ø–ø—ã –∫—Ä–∞—Å–∏–≤–æ —Å–º–æ—Ç—Ä–µ–ª–∏—Å—å –≤ —Å–µ—Ç–∫–µ */
    .field .checkbox-label,
    .field .inline-group {
      margin-top: 0;
    }

    .disabled-like { opacity: 0.6; }
    select.disabled-like {
      pointer-events: none;
      cursor: default;
    }

    /* --- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –∫–∞—Ä–∫–∞—Å–∞ --- */
    .result-field {
      font-weight: 600;
    }
    .result-ok {
      background-color: #e6ffe6;
      color: #006400;
    }
    .result-warn {
      background-color: #fff8e5;
      color: #8a6d3b;
    }
    .result-error {
      background-color: #ffe6e6;
      color: #a94442;
    }
    #frame_length_formula {
      font-size: 0.9em;
      margin-top: 4px;
      color: #555;
    }

  </style>
</head>
<body>

  <!-- <details style="max-width: 1000px; margin: auto; background: #fff; padding: 15px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 20px;">
    <summary style="font-size: 18px; font-weight: bold; cursor: pointer;">‚ÑπÔ∏è –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–æ—Ä–º–æ–π</summary>
    <div style="margin-top: 10px;">
      <p>1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö:</p>
      <ul>
        <li><strong>–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å</strong> ‚Äî –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫–µ –∏ —É—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–º.</li>
        <li><strong>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ</strong> ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—Ä–∫–∞—Å–∞ –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</li> -->
        <!-- <li><strong>–ò–º—è —Ñ–∞–π–ª–∞</strong> ‚Äî –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª.</li>
      </ul>
      <p>2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <strong>¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä—Ç—ë–∂¬ª</strong>.</p>
      <p>3. –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è PDF-—Ñ–∞–π–ª —Å —á–µ—Ä—Ç–µ–∂–æ–º.</p> -->
      <!-- <p>üîê –î–æ—Å—Ç—É–ø –∑–∞—â–∏—â—ë–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –∏–ª–∏ –æ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π, –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞.</p> -->
      <!-- <p>üìÑ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤–∞–º –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∫–∞. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π.</p>
    </div>
  </details> -->


  <form id="pdfForm" method="post">
    <!-- –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ê–ù–ù–´–ï -->
    <fieldset>
      <legend>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
        <span class="info-icon" title="–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—Ä–∫–∞—Å–∞. –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ —á–µ—Ä—Ç—ë–∂ –∏ —Ä–∞—Å—á—ë—Ç—ã. –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.">üí¨</span>
      </legend>

      <div class="field-grid">
        <div class="field">
          <label>–ö–æ–ª-–≤–æ —á–∞—Å—Ç–µ–π –∫–∞—Ä–∫–∞—Å–∞, —à—Ç.:</label>
          <select name="frame_parts_count">
            <option value="1" selected>1</option>
            <option value="2">2</option>
            <option value="3">3</option>
          </select>
        </div>

        <div class="field">
          <label>–î–ª–∏–Ω–∞ –∫–∞—Ä–∫–∞—Å–∞, –º–º:</label>
          <input type="number" step="any" name="frame_length_mm" value="3000" required>
        </div>

        <div class="field">
          <label>–î–∏–∞–º–µ—Ç—Ä –∫–∞—Ä–∫–∞—Å–∞, –º–º:</label>
          <input type="number" step="any" name="frame_diameter_mm" value="110" required>
        </div>

        <div class="field">
          <label>–î–∏–∞–º–µ—Ç—Ä –ø—Ä–æ–¥–æ–ª—å–Ω–æ–≥–æ –ø—Ä—É—Ç–∫–∞, –º–º:</label>
          <input type="number" step="any" name="longitudinal_rod_diameter_mm" value="3" required>
        </div>

        <div class="field">
          <label>–î–∏–∞–º–µ—Ç—Ä –ø—Ä–æ–≤–æ–ª–æ–∫–∏ –∫–æ–ª—å—Ü–∞, –º–º:</label>
          <input type="number" step="any" name="ring_wire_diameter_mm" value="4" required>
        </div>

        <div class="field">
          <label>–ö–æ–ª-–≤–æ –ø—Ä—É—Ç–∫–æ–≤, —à—Ç.:</label>
          <select name="rod_count">
            <option value="6" selected>6</option>
            <option value="8">8</option>
            <option value="10">10</option>
            <option value="12">12</option>
            <option value="14">14</option>
            <option value="16">16</option>
            <option value="18">18</option>
            <option value="20">20</option>
            <option value="22">22</option>
            <option value="24">24</option>
          </select>
        </div>

        <div class="field">
          <label>–¢–∏–ø –∑–∞–º–∫–∞:</label>
          <select name="lock_type">
            <option value="–ë–µ–∑ –∑–∞–º–∫–∞" selected>–ë–µ–∑ –∑–∞–º–∫–∞</option>
            <option value="–ö–æ–≥–æ—Ç—å">–ö–æ–≥–æ—Ç—å</option>
          </select>
        </div>

        <div class="field">
          <label>–¢–∏–ø –ø–æ–∫—Ä—ã—Ç–∏—è:</label>
          <select name="coating_type">
            <option value="–ë–µ–∑ –æ–∫—Ä–∞—Å–∫–∏" selected>–ë–µ–∑ –æ–∫—Ä–∞—Å–∫–∏</option>
            <option value="–û–∫—Ä–∞—Å–∫–∞">–û–∫—Ä–∞—Å–∫–∞</option>
            <option value="–û—Ü–∏–Ω–∫–æ–≤–∫–∞">–û—Ü–∏–Ω–∫–æ–≤–∫–∞</option>
          </select>
        </div>

        <div class="field">
          <label>–¢–∏–ø –æ–≥–æ–ª–æ–≤–∫–∞:</label>
          <select name="head_type">
            <option value="–†–∞—Å—Ç—Ä—É–±" selected>–†–∞—Å—Ç—Ä—É–±</option>
            <option value="–í–æ—Ä–æ—Ç–Ω–∏–∫">–í–æ—Ä–æ—Ç–Ω–∏–∫</option>
          </select>
        </div>

        <div class="field">
          <label>–ú–∞—Ç–µ—Ä–∏–∞–ª –ø—Ä–æ–≤–æ–ª–æ–∫–∏:</label>
          <select name="wire_material">
            <option value="09–ì2–°" selected>09–ì2–°</option>
            <option value="–°–≤-08–ê">–°–≤-08–ê</option>
            <option value="12–•18–ù9">12–•18–ù9</option>
            <option value="12–•18–ù10–¢">12–•18–ù10–¢</option>
            <option value="08–•18–ù10">08–•18–ù10</option>
          </select>
        </div>

        <div class="field full-width">
          <div class="checkbox-label">
            <input type="checkbox" id="venturi_presence" name="venturi_presence">
            <label for="venturi_presence">–ù–∞–ª–∏—á–∏–µ –í–µ–Ω—Ç—É—Ä–∏</label>
          </div>
        </div>

        <div class="field">
          <label>–î–∏–∞–º–µ—Ç—Ä –í–µ–Ω—Ç—É—Ä–∏, –º–º:</label>
          <input type="number" step="any" name="venturi_diameter_mm" value="134" required>
        </div>

        <div class="field">
          <label>–¢–æ–ª—â–∏–Ω–∞ –í–µ–Ω—Ç—É—Ä–∏, –º–º:</label>
          <input type="number" step="any" name="venturi_thickness_mm" value="1" required>
        </div>

        <div class="field full-width">
          <div class="checkbox-label">
            <input type="checkbox" id="bottom_presence" name="bottom_presence" checked>
            <label for="bottom_presence">–ù–∞–ª–∏—á–∏–µ –¥–æ–Ω—ã—à–∫–∞</label>
          </div>
        </div>

        <div class="field">
          <label>–¢–æ–ª—â–∏–Ω–∞ –¥–æ–Ω—ã—à–∫–∞, –º–º:</label>
          <input type="number" step="any" name="bottom_thickness_mm" value="1" required>
        </div>

        <div class="field">
          <label>–í—ã—Å–æ—Ç–∞ –¥–æ–Ω—ã—à–∫–∞, –º–º:</label>
          <input type="number" step="any" name="bottom_length_mm" value="18" required>
        </div>

        <div class="field full-width">
          <div class="checkbox-label">
            <input type="checkbox" id="neck_ring_inner_diameter_presence" name="neck_ring_inner_diameter_presence">
            <label for="neck_ring_inner_diameter_presence">–í–Ω—É—Ç—Ä. –¥–∏–∞–º–µ—Ç—Ä –∫–æ–ª—å—Ü–∞ —Ä–∞—Å—Ç—Ä—É–±–∞ (–Ω–∞–Ω–æ—Å–∏—Ç—å —Ä–∞–∑–º–µ—Ä)</label>
          </div>
        </div>

        <div class="field full-width">
          <div class="inline-group">
            <input type="checkbox" id="neck_length_presence" name="neck_length_presence" checked>
            <label for="neck_length_presence">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–ª–∏–Ω—É –≥–æ—Ä–ª–æ–≤–∏–Ω—ã –Ω–∞ —á–µ—Ä—Ç–µ–∂–µ</label>
          </div>
        </div>

        <div class="field">
          <label>–î–ª–∏–Ω–∞ –≥–æ—Ä–ª–æ–≤–∏–Ω—ã, –º–º:</label>
          <input type="number" step="any" name="neck_length" value="230">
        </div>

        <div class="field">
          <label>–®–∞–≥ –º–µ–∂–¥—É –∫–æ–ª—å—Ü–∞–º–∏, –º–º:</label>
          <input type="number" step="any" name="distance_between_rings" value="193">
        </div>

        <div class="field full-width">
          <div class="inline-group">
            <input type="checkbox" id="last_ring_to_bottom_length_presence" name="last_ring_to_bottom_length_presence">
            <label for="last_ring_to_bottom_length_presence">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–ª—å—Ü–∞ –¥–æ –¥–æ–Ω—ã—à–∫–∞</label>
          </div>
        </div>

        <div class="field">
          <label>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–ª—å—Ü–∞ –¥–æ –¥–æ–Ω—ã—à–∫–∞, –º–º:</label>
          <input type="number" step="any" name="last_ring_to_bottom_length" value="78">
        </div>


      </div>
    </fieldset>

    <!-- –û–°–ù–û–í–ù–ê–Ø –ù–ê–î–ü–ò–°–¨ -->
    <fieldset>
      <legend>–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å
        <span class="info-icon" title="–î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏ –Ω–∞ —á–µ—Ä—Ç–µ–∂–µ. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–º–∏–ª–∏–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.">üí¨</span>
      </legend>

      <div class="field-grid">
        <div class="field">
          <label>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</label>
          <input type="text" name="component_identification" value="–ö–∞—Ä–∫–∞—Å" required>
        </div>

        <div class="field">
          <label>–†–∞–∑—Ä–∞–±–æ—Ç–∞–ª:</label>
          <input type="text" name="designer" value="">
        </div>

        <div class="field">
          <label>–ü—Ä–æ–≤–µ—Ä–∏–ª:</label>
          <input type="text" name="scrutineer" value="">
        </div>

        <div class="field">
          <label>–¢–µ—Ö. –∫–æ–Ω—Ç—Ä:</label>
          <input type="text" name="supervisor" value="">
        </div>

        <div class="field">
          <label>–ù–æ—Ä–º. –∫–æ–Ω—Ç—Ä:</label>
          <input type="text" name="document_controller" value="">
        </div>

        <div class="field">
          <label>–£—Ç–≤–µ—Ä–¥–∏–ª:</label>
          <input type="text" name="confirmer" value="">
        </div>
      </div>
    </fieldset>


    <!-- –ò–ú–Ø –§–ê–ô–õ–ê -->
    <fieldset>
      <legend>–ò–º—è —Ñ–∞–π–ª–∞
        <span class="info-icon" title="–ò–º—è —Ñ–∞–π–ª–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —á–µ—Ä—Ç—ë–∂. –ë–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è. –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.">üí¨</span> 
      </legend>

      <div class="field-grid">
        <div class="field full-width">
          <label>–ò–º—è —Ñ–∞–π–ª–∞ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è):</label>
          <input type="text" name="filename" value="drawing" required>
        </div>
      </div>
    </fieldset>

    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä—Ç—ë–∂</button>
  </form>











<script>
  // –¢–æ–∫–µ–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑ Flask
  const API_TOKEN = "{{ api_token }}";

  document.getElementById("pdfForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);

    const filename = form.elements["filename"].value || "drawing";

    try {
      const response = await fetch("/generate", {
        method: "POST",
        headers: {
          "Authorization": "Bearer " + API_TOKEN
        },
        body: formData
      });

      if (!response.ok) {
        let message = `HTTP ${response.status}`;
        try {
          const error = await response.json();
          if (error && error.error) {
            message = error.error;
          }
        } catch (_) {}
        alert("–û—à–∏–±–∫–∞: " + message);
        return;
      }

      const blob = await response.blob();
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);

      const safeName = filename.replace(/[^a-zA-Z–∞-—è–ê-–Ø0-9_\-]/g, "_");
      link.download = `${safeName}.pdf`;
      link.click();
    } catch (err) {
      alert("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞: " + err.message);
    }
  });

   
</script>



  <!-- –í–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç localhost:5000)
  <script>
    document.getElementById("pdfForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = new FormData(e.target);
      const filename = e.target.elements["filename"].value || "drawing";

      const response = await fetch("http://localhost:5000/generate", {
        method: "POST",
        headers: {
          "Authorization": "Bearer secure_token_Aspex"
        },
        body: formData
      });

      if (response.ok) {
        const blob = await response.blob();
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        const safeName = filename.replace(/[^a-zA-Z–∞-—è–ê-–Ø0-9_\-]/g, "_");
        link.download = `${safeName}.pdf`;
        link.click();
      } else {
        const error = await response.json();
        alert("–û—à–∏–±–∫–∞: " + error.error);
      }
    });
  </script>
  -->

</body>
</html>
